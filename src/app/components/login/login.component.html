<app-header></app-header>
<div
  class="container d-flex justify-content-center align-items-center min-vh-100"
>
  <div class="card" style="width: 100%; max-width: 470px">
    <div class="card-body">
      <h3 class="card-title text-center">Login</h3>

      <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <div class="mb-3 position-relative">
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            placeholder=" "
            required
            [(ngModel)]="email"
            #emailField="ngModel"
            [ngClass]="{ 'input-error': emailField.invalid && emailField.touched }"
          />
          <label
            for="email"
            class="form-label position-absolute start-0 ms-3"
            [ngClass]="{ 'label-error': emailField.invalid && emailField.touched }"
            >Email</label
          >
          <div
            *ngIf="emailField.invalid && emailField.touched"
            class="text-danger"
          >
            E-mail é obrigatório.
          </div>
        </div>

        <div class="mb-2 position-relative">
          <input
            type="password"
            class="form-control"
            id="senha"
            name="senha"
            placeholder=" "
            required
            [(ngModel)]="senha"
            #senhaField="ngModel"
            minlength="6"
            [ngClass]="{ 'input-error': senhaField.invalid && senhaField.touched }"
          />
          <label
            for="senha"
            class="form-label position-absolute start-0 ms-3"
            [ngClass]="{ 'label-error': senhaField.invalid && senhaField.touched }"
            >Senha</label
          >

          <div
            *ngIf="senhaField.invalid && senhaField.touched"
            class="text-danger"
          >
            Senha é obrigatória.
          </div>
        </div>

        <div class="text-end mt-2">
          <a href="/redefinirSenha" class="text-decoration-none"
            >Esqueceu sua senha?</a
          >
        </div>

        <div
          *ngIf="error"
          class="mt-3 alert alert-danger"
          [ngClass]="{ 'alert-custom': error }"
        >
          {{ error }}
        </div>

        <div class="d-flex justify-content-center mt-4">
          <button
            type="submit"
            class="btn btn-success w-50"
            [disabled]="loginForm.invalid"
          >
            Entrar
          </button>
        </div>
      </form>

      <div class="d-flex justify-content-center mt-3">
        <a href="#" class="me-3">
          <img
            src="../../../assets/facebook.png"
            alt="Login com Facebook"
            class="social-icon"
          />
        </a>
        <a href="#">
          <img
            src="../../../assets/google.png"
            alt="Login com Google"
            class="social-icon"
          />
        </a>
      </div>

      <div
        class="text-start mt-3"
        style="position: absolute; bottom: 15px; left: 20px"
      >
        <p class="mb-0">
          Não tem conta?
          <a href="/criarConta" class="text-decoration-none">Criar uma conta</a>
        </p>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
